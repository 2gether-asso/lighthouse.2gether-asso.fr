---
import { Image } from 'astro:assets'

import Layout from '~/layouts/Layout.astro'

import Lighthouse from '~/components/Lighthouse.astro'
import SectionTV from '~/components/SectionTV.astro'

import logo from '~/assets/logo.png'
import icon from '~/assets/icon.png'
import bookmarkSvg from '~/assets/icons/bookmark.svg?raw'
import discordSvg from '~/assets/icons/discord.svg?raw'

const title = '2GETHER Lighthouse'
---

<Layout
	title={ title }
	lang="en"
	socialUrl={Astro.site}
>

	<main>

		<section class="lighthouse">

			<Lighthouse />

			<div class="content">

				<div class="brand-logo">
					<Image
						src={ logo }
						alt={ title }
						width={ 900 }
						class={ 'logo' }
					/>
					<Image
						src={ icon }
						alt={ title }
						height={ 45 }
						class={ 'logo-small' }
					/>
					<h1>{ title }</h1>
				</div>

				<div class="buttons">
					<a href="https://2gether-asso.fr" class="button">
						<Fragment set:html={ bookmarkSvg } />
						Visit our website
					</a>
					<a href="https://discord.2gether-asso.fr" class="button">
						<Fragment set:html={ discordSvg } />
						Join our Discord
					</a>
				</div>

			</div>

		</section>

		<section class="tv">
			<SectionTV />
		</section>

	</main>

</Layout>

<style lang="scss">
	main {
		position: relative;
		height: 100%;
		overflow: hidden;
		overflow-y: auto;
	}

	.lighthouse {
		position: relative;
		display: flex;
		flex-direction: column;
		justify-content: flex-end;
		align-items: center;
		width: 100%;
		height: 100%;
		box-sizing: border-box;
		color: #fff;
		overflow-x: hidden;

		a {
			&, &:link, &:visited {
				color: inherit;
				text-decoration: none;
			}

			&:hover, &:focus {
				color: inherit;
				text-decoration: underline;
			}
		}

		.content {
			--background-color: rgba(0, 0, 0, .2);
			background-color: var(--background-color);
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			gap: 2rem;
			padding: 2rem;
			box-shadow: 0 0 4rem 4rem var(--background-color);

			> * {
				margin: 0;
			}

			.brand-logo {
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				max-width: 100%;
				border-radius: 2rem;
				text-align: center;

				.logo {
					display: none;
				}

				h1 {
					color: #e6ac00;
				}

				@media screen and (min-width: calc(300px + 4rem)) {
					.logo {
						display: block;
					}

					.logo-small {
						display: none;
					}

					h1 {
						display: none;
					}
				}


				img {
					max-width: 100%;
					height: auto;
				}
			}

			.buttons {
				display: flex;
				justify-content: center;
				flex-wrap: wrap;
				gap: 1rem;

				> .button {
					display: flex;
					justify-content: center;
					align-items: center;
					gap: .5rem;
					padding: 1rem;
					border-radius: 2rem;
					background-color: rgba(0, 0, 0, .2);
					transition:
						background-color .2s ease-in-out,
						color .2s ease-in-out;

					&:hover, &:focus {
						text-decoration: none;
					}

					&:hover {
						background-color: rgba(0, 0, 0, .6);
						color: #e6ac00;
					}

					> :global(svg) {
						width: 1em;
						height: 1em;
						fill: currentColor;
						flex-shrink: 0;
					}
				}
			}
		}
	}
</style>
